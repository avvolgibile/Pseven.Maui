<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:syncfusion="clr-namespace:Syncfusion.Maui.DataGrid;assembly=Syncfusion.Maui.DataGrid"
             x:Class="Pseven.Views.StoricoOrdiniAFornitoriPage"
             Title="Elenco Ord Fornitori">

    <Grid Padding="12" RowDefinitions="Auto,*,Auto" ColumnDefinitions="*">

        <!-- FILTRI -->
        <Grid Row="0" ColumnDefinitions="2*,Auto,Auto,Auto" ColumnSpacing="12" Margin="0,0,0,8">
            <VerticalStackLayout Grid.Column="0">
                <Label Text="Indirizzo Mail" FontAttributes="Bold" />
                <!-- Su MAUI non c'Ã¨ ComboBox stock; usa Picker -->
                <Picker Title="Seleziona indirizzo"
                        ItemsSource="{Binding ListaIndirizzi}"
                        SelectedItem="{Binding MailSelezionata}" />
            </VerticalStackLayout>

            <VerticalStackLayout Grid.Column="1">
                <Label Text="Dal" FontAttributes="Bold" />
                <DatePicker Date="{Binding DataInizio}" />
            </VerticalStackLayout>

            <VerticalStackLayout Grid.Column="2">
                <Label Text="Al" FontAttributes="Bold" />
                <DatePicker Date="{Binding DataFine}" />
            </VerticalStackLayout>

            <Button Grid.Column="3"
                    Text="Reinvia"
                    VerticalOptions="End"
                    Command="{Binding ReinviaCommand}" />
        </Grid>

        <!-- TABELLA CON SYNCFUSION -->
        <syncfusion:SfDataGrid Grid.Row="1"
                               x:Name="DataGrid"
                               ItemsSource="{Binding StoricoOrdiniAFornitori}"
                            
                               AllowTriStateSorting="True"
                               ColumnWidthMode="Auto"
                               HeaderRowHeight="36"
                               RowHeight="36">
            <syncfusion:SfDataGrid.Columns>
                <syncfusion:DataGridTextColumn MappingName="Email" HeaderText="Email"/>
                <syncfusion:DataGridTextColumn MappingName="Data" HeaderText="Data" 
                                               Format="dd/MM/yyyy" />
            </syncfusion:SfDataGrid.Columns>
        </syncfusion:SfDataGrid>

        <!-- BOTTONI AZIONI -->
        <Grid Grid.Row="2" ColumnDefinitions="Auto,*,Auto" Margin="0,8,0,0">
            <Button Text="Ripristina filtro"
                    Grid.Column="0"
                    Command="{Binding RipristinaFiltroCommand}" />
            <Label Grid.Column="1"/>
            <Button Text="Uscita"
                    Grid.Column="2"
                    Command="{Binding ChiudiCommand}" />
        </Grid>
    </Grid>
</ContentPage>